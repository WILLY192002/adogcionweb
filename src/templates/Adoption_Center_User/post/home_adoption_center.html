{% extends 'lateral_base.html' %}

{% block title %}Mis animales{% endblock %}

{% block customCSS %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href={{url_for('static', filename='css/User_Adoption_Center/home_adoption_center.css' )}} />
{% endblock %}

{%block items%}
{% if current_user.is_authenticated %}
          <li class="item">
            <a href="#"
              class="link flex">
              <i class="bx bxs-user"></i>
              <span>Perfil</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bxs-home-heart"></i>
              <span>Inicio</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bxs-dog"></i>
              <span>Mis animales</span>
            </a>
          </li>
          <li class="item">
            <a href="#"
              class="link flex">
              <i class="bx bxs-cloud-upload"></i>
              <span>Publicar</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bxs-log-out"></i>
              <span>Cerrar Sesión</span>
            </a>
          </li>
          {% else %}
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bx-user"></i>
              <span>Inicia Sesión</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bxs-pencil"></i>
              <span>Registrate</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex">
              <i class="bx bxs-home-heart"></i>
              <span>Inicio</span>
            </a>
          </li>
          <li class="item">
            <a href="#" class="link flex" data-bs-toggle="modal" data-bs-target="#ModalRequest">
              <i class="bx bxs-cloud-upload"></i>
              <span>Publicar</span>
            </a>
          </li>
          {% endif %}
{%endblock%}

{% block body %}

<div class="container text-center">
  <div class="filtrosVistasHome">
    <form action='home' method="POST" class="formfiltros">
      <div class="opcionFiltros">
        <div class="barraFiltro">
          <input type="hidden" name="form_id" value="filter_home"><!--IDENTIFICADOR FORM-->
          <input type="text" class="form-control" placeholder="Buscar" aria-label="Buscar" name="barraBusquedaFilter"
            id="barraBusquedaFilter">
        </div>
        <div class="filtro-btn">
          <button id="botonFiltrar" class="btn btn-outline-personalized" type="button">
            <i class='bx bx-filter'></i> Filtrar
          </button>
        </div>
        <div class="buscar-btn-filtros">
          <button class="btn btn-outline-personalized" type="submit">
            <i class='bx bx-search'></i> Buscar
          </button>
        </div>
      </div>
      {%if categories%}
      <div id="filter_animal_div" class="selectFiltros">
        <div class="filtros_Tema-categoria">
          <div class="labelFiltro">
            <label>Filtrar por:</label>
          </div>
          <div class="filtro-categoria">
            <select id="selectCategorias" class="form-select" aria-label="Filtrar por categoria" name="filtroCategoria">
              <option selected disabled>Categoria</option>
              {%for category in categories %}
              <option value={{category.id}}>{{category.name}}</option>
              {% endfor %}
            </select>
          </div>
          {%if topics%}
          <div class="filtro-tema">
            <select disabled id="selectTema" class="form-select" aria-label="Filtrar por tema" name="filtroTema">
              <option selected disabled>Tema</option>
              {%for topic in topics %}
              <option value={{topic.id}} class="{{topic.category_id}}">{{topic.name}}</option>
              {% endfor %}
            </select>
          </div>
          {%endif%}
        </div>
      </div>
      {%endif%}
    </form>
  </div>
  <div class="filtros_Comunidad-fundacion">
    <div class="row justify-content-md-center row-cols-2">
      <!-- <div class="col col-md-4 d-grid gap-2">
        <button class="btn btn-personalized" type="button" disabled>
          <i class='bx bxs-home-heart'></i> Fundaciones
        </button>
      </div>
      <div class="col col-md-4 d-grid gap-2">
        <button class="btn btn-personalized" type="button">
          <i class='bx bxs-book-heart'></i> Comunidad
        </button>
      </div> -->
      <div class="col col-md-4 d-grid gap-2">
        <a class="btn btn-personalized" href="#">
          <i class='bx bxs-home-heart'></i> Fundaciones
        </a>
      </div>
      <div class="col col-md-4 d-grid gap-2">
        <a class="btn btn-personalized" href="#">
          <i class='bx bxs-book-heart'></i> Comunidad
        </a>
      </div>
    </div>
  </div>
{%if publications%}
  <div class="contenedorHistorialPubs">
    {% for publication in publications%}
    <div class="contenedorHistorias">
      <div class="encabezadoHistoria">
        <div class="contenedorFotoAlb">
          <img id="preview" src="{{publication.photo_owner}}" alt="">
        </div>
        <div class="contenedorTituloAlb">
          <a
            href="#">{{publication.name_owner}}</a>
        </div>
      </div>
      <div class="cuerpoHistoria">
        <div class="contenedorFotoPublicacion">
          <img id="preview" src="{{publication.photo}}" alt="">
        </div>
        <div class="ContenedorInformacionPub">
          <div class="encabezadoPublicacion">
            <label>{{publication.title}}</label>
          </div>
          <div class="contenidoPublicacion">
            <p>{{publication.description}}</p>
          </div>
        </div>

      </div>

    </div>
    {% endfor %}
  </div>
{%endif%}
</div>

{% endblock %}

{% block modal %}
{% endblock %}

{% block customJS%}
<script src="/static/js/home.js"></script>
{% endblock %}